{"version":3,"sources":["components/AssignCategories/index.js"],"names":["AssignCategories","props","_this","Object","_Users_edwardlanto_Desktop_social_app_deploy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_Users_edwardlanto_Desktop_social_app_deploy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_Users_edwardlanto_Desktop_social_app_deploy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","handleChange","name","color","i","categoriesNew","_Users_edwardlanto_Desktop_social_app_deploy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","state","categories","selected","months","concat","parseInt","match","params","month","setState","db","collection","doc","id","update","dirty","firebase","firestore","_this2","console","log","get","then","snapshot","tempArr","docs","map","item","push","data","_this3","style","background","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","className","antd__WEBPACK_IMPORTED_MODULE_9__","checked","onChange","value","for","onSubmit","selectCategories","length","react_router_dom__WEBPACK_IMPORTED_MODULE_11__","to","year","Component","compose","withFirebase"],"mappings":"wNAOMA,cACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KA+BRQ,aAAe,SAACC,EAAMC,EAAOC,GAC3B,IAAIC,EAAaV,OAAAW,EAAA,EAAAX,CAAOD,EAAKa,MAAMC,YACnCH,EAAcD,GAAGK,UAAYJ,EAAcD,GAAGK,SAC9CJ,EAAcD,GAAGM,OAAjB,GAAAC,OAAAhB,OAAAW,EAAA,EAAAX,CACKD,EAAKa,MAAMC,WAAWJ,GAAGM,QAD9B,CAEEE,SAASlB,EAAKD,MAAMoB,MAAMC,OAAOC,SAEnCrB,EAAKsB,SAAS,CACZR,WAAYH,IAGdX,EAAKuB,GACFC,WAAW,SACXC,IAAIzB,EAAKD,MAAMoB,MAAMC,OAAOM,IAC5BF,WAAW,cACXC,IAAIjB,GACJmB,OAAO,CACNZ,SAAUJ,EAAcD,GAAGK,SAC3BC,OAAQL,EAAcD,GAAGM,UA/C7BhB,EAAKa,MAAQ,CACXC,WAAY,GACZc,OAAO,GAGT5B,EAAKuB,GAAKM,IAASC,YARF9B,mFAWC,IAAA+B,EAAA5B,KACVuB,EAAOvB,KAAKJ,MAAMoB,MAAMC,OAAxBM,GACRM,QAAQC,IAAI,KAAMP,GAClBvB,KAAKoB,GACFC,WAAW,SACXC,IAAIC,GACJF,WAAW,cACXU,MACAC,KAAK,SAAAC,GACJJ,QAAQC,IAAI,eAAgBG,GAC5B,IAAMC,EAAU,GAChBD,EAASE,KAAKC,IAAI,SAAAC,GAKhB,OAJAH,EAAQI,KAAKD,EAAKE,QAClBX,EAAKT,SAAS,CACZR,WAAYuB,IAEP,0CA2BN,IAAAM,EAAAxC,KACHW,EAAaX,KAAKU,MAAMC,WAAWyB,IAAI,SAACC,EAAM9B,GAChD,IAAIkC,EAAQ,CACVC,WAAYL,EAAK/B,OAEnB,OACEqC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kDACbH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACEC,QAASR,EAAK9B,MAAMC,WAAWJ,GAAGK,SAClCqC,SAAU,kBAAMT,EAAKpC,aAAaiC,EAAKhC,KAAMgC,EAAK/B,MAAOC,IACzD2C,MAAOb,EAAKhC,KACZkB,GAAIc,EAAKhC,OAEXsC,EAAAC,EAAAC,cAAA,SAAOJ,MAAOA,EAAOK,UAAU,mCAAmCK,IAAKd,EAAKhC,MACzEgC,EAAKhC,SAMd,OACEsC,EAAAC,EAAAC,cAAA,OAAKtB,GAAG,6BACNoB,EAAAC,EAAAC,cAAA,QACEO,SAAUpD,KAAKqD,iBACfP,UAAU,2EAEVH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,UAAd,cACC9C,KAAKU,MAAMC,WAAW2C,OAAS,GAAK3C,EACrCgC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6CACbH,EAAAC,EAAAC,cAACU,EAAA,EAAD,CACEC,GAAE,aAAA1C,OAAed,KAAKJ,MAAMoB,MAAMC,OAAOwC,KAAvC,KAAA3C,OAA+Cd,KAAKJ,MAAMoB,MAAMC,OAAOC,MAAvE,KAAAJ,OAAgFd,KAAKJ,MAAMoB,MAAMC,OAAOM,KAD5G,qBApFmBmC,aAgGhBC,sBAAQC,YAAajE","file":"static/js/10.c8d101c8.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { withFirebase } from '../Firebase';\nimport { compose } from 'redux';\nimport { Checkbox } from 'antd';\nimport firebase from 'firebase';\nimport { Link } from 'react-router-dom';\n\nclass AssignCategories extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      categories: [],\n      dirty: false\n    };\n\n    this.db = firebase.firestore();\n  }\n\n  componentDidMount() {\n    const { id } = this.props.match.params;\n    console.log('ID', id);\n    this.db\n      .collection('users')\n      .doc(id)\n      .collection('categories')\n      .get()\n      .then(snapshot => {\n        console.log('SNAPSHOT CAT', snapshot);\n        const tempArr = [];\n        snapshot.docs.map(item => {\n          tempArr.push(item.data());\n          this.setState({\n            categories: tempArr\n          });\n          return null;\n        });\n      });\n  }\n\n  handleChange = (name, color, i) => {\n    let categoriesNew = [...this.state.categories];\n    categoriesNew[i].selected = !categoriesNew[i].selected;\n    categoriesNew[i].months = [\n      ...this.state.categories[i].months,\n      parseInt(this.props.match.params.month)\n    ];\n    this.setState({\n      categories: categoriesNew\n    });\n\n    this.db\n      .collection('users')\n      .doc(this.props.match.params.id)\n      .collection('categories')\n      .doc(name)\n      .update({\n        selected: categoriesNew[i].selected,\n        months: categoriesNew[i].months\n      });\n  };\n\n  render() {\n    let categories = this.state.categories.map((item, i) => {\n      let style = {\n        background: item.color\n      };\n      return (\n        <div className=\"d-flex assign-cat justify-content-center mb-10\">\n          <Checkbox\n            checked={this.state.categories[i].selected}\n            onChange={() => this.handleChange(item.name, item.color, i)}\n            value={item.name}\n            id={item.name}\n          />\n          <label style={style} className=\"align-self-center col-md-3 ml-10\" for={item.name}>\n            {item.name}\n          </label>\n        </div>\n      );\n    });\n\n    return (\n      <div id=\"assign-categories-wrapper\">\n        <form\n          onSubmit={this.selectCategories}\n          className=\"col-sm-6 d-flex flex-column mx-auto bg-white form-cat position-relative\"\n        >\n          <h5 className=\"cat-h5\">Categories</h5>\n          {this.state.categories.length > 0 && categories}\n          <div className=\"text-center d-flex justify-content-center\">\n            <Link\n              to={`/calendar/${this.props.match.params.year}/${this.props.match.params.month}/${this.props.match.params.id}`}\n            >\n              Go Back\n            </Link>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default compose(withFirebase(AssignCategories));\n"],"sourceRoot":""}