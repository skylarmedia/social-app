(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{753:function(e,t,a){},754:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAZCAYAAAAv3j5gAAAAAXNSR0IArs4c6QAAAnRJREFUSA2tVkty00AQ7R4KFmRBdAJ8A7wMWZkqQrGLcwNzAnwDnBNgTgBHcHZUoCpiE7LDOQHiAtgs7Eo5WM3rkWYkWZIlk6hKNT09Pf3m87p7mBq+2cuDHpkHxyTUhWmXmPbtFKGQSCJiDmm1OAvC6XybK64bnB0dDuD0HRF36my8XmhOLGNaLT/UAZaAZr3uPj18fIGV6g52+xRQ1ifB16twc2IBCLuAcwZIejyb1m37Im+CL5ef8uYeKNnJ3s87g3jv8Ulw/n3iusYJ9GgvvD8QeBXzcfb6oOP8WyB78UTPnPJeWj3+2Lx3vtyORk5RbuVURP6U9U6zbZz7NjxgamavnvfBsKduWrGV0+D8coSL7FWC6aXruMT94rxcj40dw44SITeUicJvlYlg0LQEljLLkoizI8ompxLTsUqGRDqpqtxYmvOFB7tdqu015lj6tos57qgd/z46nDPzkzLKhmYjNtqBpD7i9QvTCkTtmQt0RTiMd8kepvKSS5tR1iEAP19Ffmi1GEK+9v0GweCSp9tsdCFKBI1yvSv8P/APbPJcLXqY2wz292ZqsP2oDsiDgHUKkuRBRqnAMbYFE/mliwK940kdEDONldoZCKLdfXmweD106orW+sepEMFRhFXWBe2IhIf1eVC2j4NxWjYc0ECPo2I1d1TJGTJHX53YXJfWjuZL3QHWstnE/khdUiXU/ep8toPzvCmzDPLh4IGUGUrjNnGVd1gp22SbFT21sXeUN7apRYvgf9QnGw7I5I1vhgKgvoKIRvVszKwtAEIBr6Bx61dQNj2RbOFKakpX8K7zuVHkGxYRIZOHdLuc1AE4f/8AzlcnPS+oe7sAAAAASUVORK5CYII="},755:function(e,t,a){"use strict";var s=a(9),n=a(11),o=a(13),c=a(12),r=a(14),l=a(0),i=a.n(l),d=a(16),p=a(35),m=a(746),u=m.a.Option,h=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).currentCategory=function(e){var t=e.split("|||")[1],s=e.split("|||")[0];a.props.getSelectedCategory(t,s)},a.state={categories:[],selectedCategory:""},a}return Object(r.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.firebase.getUserCategories(this.props.clientId,parseInt(this.props.month)).then(function(t){var a=[];t.docs.map(function(t){var s={};return s.color=t.data().color,s.name=t.data().name,a.push(s),e.setState({categories:a})})})}},{key:"render",value:function(){var e=this.state.categories.map(function(e,t){return i.a.createElement("option",{value:"".concat(e.name,"|||").concat(e.color),key:t},e.name)}),t={backgroundColor:this.props.color};return i.a.createElement(i.a.Fragment,null,i.a.createElement("form",{className:"main-edit-form",style:t},i.a.createElement(m.a,{name:"options",style:{width:120},onChange:this.currentCategory.bind(this),placeholder:this.props.currentCat?this.props.currentCat:"Category",suffixIcon:i.a.createElement("img",{src:a(117),alt:"arrow icon"})},this.props.currentCat?i.a.createElement(u,{value:"".concat(this.props.currentCat," ||| #fff"),selected:!0},this.props.currentCat):i.a.createElement(u,{value:"No Category ||| #fff",selected:!0},"No Category"),e)))}}]),t}(l.Component);t.a=Object(p.a)(Object(d.c)(h))},763:function(e,t,a){},771:function(e,t,a){"use strict";a.r(t);var s=a(24),n=a(9),o=a(11),c=a(13),r=a(12),l=a(30),i=a(14),d=a(0),p=a.n(d),m=a(755),u=a(256),h=a(178),g=(a(763),a(748)),b=a(773),f=a(348),v=a(752),E=a(743),C=a(749),y=a(744),k=a(347),w=a(70),N=a(176),x=a(175),I=a.n(x),A=a(330),S=a(23),D=a.n(S),O=(a(753),a(16)),j=a(19),M=a.n(j),P=a(137),T=g.a.TextArea,Y=b.a.Panel,F=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(r.a)(t).call(this,e))).handlePostMedium=function(e){var t=e.target.getAttribute("index"),n=Object(s.a)(a.state.posts);n[t].postMedium=e.target.value,a.setState({posts:n})},a.handleVisibleChange=function(e){a.setState({visible:e})},a.handleHashTags=function(e){var t=e.target.getAttribute("index"),n=Object(s.a)(a.state.posts);n[t].postHashTag=e.target.value,a.setState({posts:n})},a.handleTitle=function(e){var t=e.target.getAttribute("index"),n=Object(s.a)(a.state.posts);n[t].title=e.target.value,a.setState({posts:n})},a.handleCopy=function(e){var t=e.target.getAttribute("index"),n=Object(s.a)(a.state.posts);n[t].copy=e.target.value,a.setState({posts:n})},a.unsubscribe=function(){return a.db.collection("chats").doc(a.props.match.params.postId).collection("messages").where("postId","==",a.props.match.params.clientId).onSnapshot(function(e){var t=Object(s.a)(a.state.messages);e.docChanges().forEach(function(e){"added"===e.type&&(t.push(e.doc.data()),a.setState({messages:t}))})})},a.deletePostParent=function(e){a.setState({messages:a.state.messages.filter(function(t,a){return a!==e})})},a.submitEdits=function(){a.props.firebase.updatePost(a.props.match.params.postId,a.props.match.params.clientId,a.state.posts,a.state.approved),a.props.history.goBack()},a.handleFacebook=function(e){var t=e.target.index,n=Object(s.a)(a.state.posts);n[t].facebook=!n[t].facebook,a.setState({posts:n})},a.handleInstagram=function(e){var t=e.target.index,n=Object(s.a)(a.state.posts);n[t].instagram=!n[t].instagram,a.setState({posts:n})},a.handleTwitter=function(e){var t=e.target.index,n=Object(s.a)(a.state.posts);n[t].twitter=!n[t].twitter,a.setState({posts:n})},a.handleLinkedin=function(e){var t=e.target.index,n=Object(s.a)(a.state.posts);n[t].linkedin=!n[t].linkedin,a.setState({posts:n})},a.handleApproval=function(e){a.setState({approved:!a.state.approved})},a.handleOther=function(e){var t=e.target.index,n=Object(s.a)(a.state.posts);n[t].other=!n[t].other,a.setState({posts:n})},a.handleAd=function(e){var t=e.target.index,n=Object(s.a)(a.state.posts);n[t].ad=!n[t].ad,a.setState({posts:n})},a.handleComplete=function(e){var t=Object(s.a)(a.state.posts);t[e].postTime=a.state.currentTime,a.setState({posts:t})},a.handlePostTime=function(e,t){a.setState({currentTime:t})},a.toggleChat=function(){a.state.updatedMessages,a.setState({showChat:!a.state.showChat})},a.submitMessage=function(e){e.preventDefault()},a.handleBudget=function(e){},a.captureKey=function(e){"Enter"===e.key&&(e.preventDefault(),a.props.firebase.adminSendMessage(!0,D()(new Date).format("DD/MM/YYYY"),a.formatAMPM(new Date),a.props.match.params.postId,a.state.message,a.props.match.params.clientId,D()().unix(),a.state.currentMonth,a.state.currentYear,null),a.setState({message:""})),a.props.firebase.updateClientNotification(a.props.match.params.postId,a.props.match.params.clientId)},a.handleAd=function(e){var t=e.target.index,n=Object(s.a)(a.state.posts);n[t].ad=!n[t].ad,a.setState({posts:n})},a.addEmoji=function(e){if(e.unified.length<=5){var t=String.fromCodePoint("0x".concat(e.unified));a.setState({message:a.state.message+t})}else{var s=e.unified.split("-"),n=[];s.forEach(function(e){return n.push("0x"+e)});var o=String.fromCodePoint.apply(String,n);a.setState({message:a.state.message+o})}},a.getSelectedCategoryParent=function(e,t){a.setState({selectedCategory:e,selectedCategoryName:t})},a.setMessage=function(e){e.preventDefault(),a.setState({message:e.target.value})},a.formatAMPM=function(e){var t=e.getHours(),a=e.getMinutes(),s=t>=12?"pm":"am";return(t=(t%=12)||12)+":"+(a=a<10?"0"+a:a)+" "+s},a.clearMessages=function(e){var t=a.functions.httpsCallable("clearClientMessages"),s={};s.id=e,s.postId=a.state.postId,t(s),a.setState({messages:[]})},a.toggleIcon=function(e){a.setState({showIcons:!a.state.showIcons})},a.saveDraft=function(){a.db.collection("users").doc(a.props.match.params.postId).collection("posts").doc(a.props.match.params.clientId).update({draft:!0}).then(function(){a.props.history.push("/calendar/".concat(a.state.currentYear,"/").concat(a.state.currentMonth,"/").concat(a.props.match.params.postId))})},a.deletePost=function(){a.db.collection("users").doc(a.props.match.params.postId).collection("posts").doc(a.props.match.params.clientId).delete().then(function(){f.a.success("Post Successfully Deleted"),a.props.history.push("/calendar/".concat(a.state.currentYear,"/").concat(a.state.currentMonth,"/").concat(a.props.match.params.postId))},function(e){f.a.success("Failed Deleting Post")})},a.state={posts:[],currentTime:null,approved:!1,showChat:!1,showIcons:!0,message:"",messages:[],currentMonth:null,currentYear:null,updatedMessages:!1,postId:null,selectedCategory:null,selectedCategoryName:null,visible:!1,color:null},a.handleFacebook=a.handleFacebook.bind(Object(l.a)(a)),a.handleComplete=a.handleComplete.bind(Object(l.a)(a)),a.handlePostMedium=a.handlePostMedium.bind(Object(l.a)(a)),a.handleAd=a.handleAd.bind(Object(l.a)(a)),a.handleHashTags=a.handleHashTags.bind(Object(l.a)(a)),a.submitEdits=a.submitEdits.bind(Object(l.a)(a)),a.handleCopy=a.handleCopy.bind(Object(l.a)(a)),a.setMessage=a.setMessage.bind(Object(l.a)(a)),a.handleBudget=a.handleBudget.bind(Object(l.a)(a)),a.db=M.a.firestore(),a.functions=M.a.functions(),a}return Object(i.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.functions.httpsCallable("updateAdminMessages"),a={};a.postId=this.props.match.params.clientId,a.userId=this.props.match.params.postId,t(a),this.props.firebase.editPostFirebase(this.props.match.params.clientId,this.props.match.params.postId).then(function(t){0===e.state.posts.length&&e.setState({posts:t.data().post,selectedCategoryName:t.data().selectedCategoryName,approved:t.data().approved,currentMonth:t.data().month,currentYear:t.data().year,postId:t.id,color:t.data().color})}),this.unsubscribe()}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"handleStartDpChange",value:function(e,t){var a=Object(s.a)(this.state.posts);a[t].budgetStart=D()(e).format("MM/DD/YYYY"),this.setState({posts:a})}},{key:"handleEndDpChange",value:function(e,t){var a=Object(s.a)(this.state.posts);a[t].budgetEnd=D()(e).format("MM/DD/YYYY"),this.setState({posts:a})}},{key:"createUI",value:function(){var e=this;return this.state.values.map(function(t,a){return p.a.createElement("div",{key:a},p.a.createElement("input",{type:"text",value:t.value||"",onChange:e.handleLinks.bind(e,a)}),p.a.createElement("input",{type:"button",value:"remove",onClick:e.removeClick.bind(e,a)}))})}},{key:"removeClick",value:function(e){var t=Object(s.a)(this.state.values);t.splice(e,1),this.setState({values:t})}},{key:"addClick",value:function(e){this.setState(function(t){return{values:[].concat(Object(s.a)(t.posts[e].values),[{value:null}])}})}},{key:"render",value:function(){var e=this,t=this.state.posts.map(function(t,s){return p.a.createElement(p.a.Fragment,{key:s},p.a.createElement("div",{className:"edit-form-main-wrapper",key:s},p.a.createElement(v.a,{className:"container d-flex row mx-auto p-0",gutter:30},p.a.createElement(E.a,{span:12},p.a.createElement(g.a,{className:"outlined-title blue-input",label:"Post Title",name:"title",index:s,value:e.state.posts[s].title,onChange:e.handleTitle,margin:"normal"}),p.a.createElement("div",null,e.state.posts[s].images.length>0?p.a.createElement(P.a,{imageSrc:e.state.posts[s].images,className:"upload-files-wrapper"}):p.a.createElement("div",{id:"red-outline-wrapper",className:"w-100 mb-20"},p.a.createElement("div",{className:"red-center"},p.a.createElement("input",{type:"file",multiple:!0,onChange:e.addFile,className:"red-dashed-input"})))),p.a.createElement(T,{className:"blue-input copy-input",placeholder:"Copy",name:"copy",value:e.state.posts[s].copy,onChange:e.handleCopy,margin:"normal",variant:"outlined",index:s})),p.a.createElement(E.a,{span:12},p.a.createElement("div",{className:"d-flex justify-content-between mb-20 edit-social-icons"},p.a.createElement("div",null,p.a.createElement(C.a,{type:"checkbox",name:"facebook",value:e.state.posts[s].facebook,checked:e.state.posts[s].facebook,onChange:e.handleFacebook,index:s,id:"facebook-".concat(s)}),p.a.createElement("label",{for:"facebook-".concat(s)},"Facebook")),p.a.createElement("div",null,p.a.createElement(C.a,{type:"checkbox",name:"instagram",value:e.state.posts[s].instagram,checked:e.state.posts[s].instagram,onChange:e.handleInstagram,index:s,id:"instagram-".concat(s)}),p.a.createElement("label",{for:"instagram-".concat(s)},"Instagram")),p.a.createElement("div",null,p.a.createElement(C.a,{type:"checkbox",name:"twitter",value:e.state.posts[s].twitter,checked:e.state.posts[s].twitter,onChange:e.handleTwitter,index:s,id:"twitter-".concat(s)}),p.a.createElement("label",{for:"twitter-".concat(s)},"Twitter")),p.a.createElement("div",null,p.a.createElement(C.a,{type:"checkbox",name:"linkedin",value:e.state.posts[s].linkedin,checked:e.state.posts[s].linkedin,onChange:e.handleLinkedin,index:s,id:"linkedin-".concat(s)}),p.a.createElement("label",{for:"linkedin-".concat(s)},"LinkedIn")),p.a.createElement("div",null,p.a.createElement(C.a,{type:"checkbox",name:"other",value:e.state.posts[s].other,checked:e.state.posts[s].other,onChange:e.handleOther,index:s,id:"other-".concat(s)}),p.a.createElement("label",{id:"other-".concat(s)},"Other"))),p.a.createElement("div",{className:"date-button-wrapper d-flex row justify-content-between"},p.a.createElement("div",{id:"choose-date-wrapper",className:"col-sm-4"},p.a.createElement(b.a,{className:"post-collapse"},p.a.createElement(Y,{header:"POST DATE",extra:p.a.createElement("img",{src:a(117),alt:"arrow icon"}),showArrow:!1},p.a.createElement(I.a,{selected:e.state.dpDate,placeholderText:"Post Date",onChange:function(t){return e.handleDPChange(t)},customInput:p.a.createElement(N.a,{ipDate:e.state.posts[s].ipDate,placeholderText:"Post Date",handleIpChange:function(t){return e.handleIpChange(t,s)}}),dateFormat:"MM/dd/yyyy",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select"})))),p.a.createElement("div",{className:"col-sm-4"},p.a.createElement(A.a,{index:s,onOpenChange:function(){return e.handleComplete(s)},onChange:e.handlePostTime,placeholder:"POST TIME",defaultValue:D()("".concat(e.state.posts[s].postTime),"HH:mm:ss")})),p.a.createElement("div",{className:"col-sm-4"},p.a.createElement(g.a,{type:"text",placeholder:"POST MEDIUM",name:"postMedium",className:"blue-input",value:e.state.posts[s].postMedium,onChange:e.handlePostMedium,index:s}))),p.a.createElement("div",{className:"mt-20 edit-ad"},p.a.createElement("div",{className:"sponsored-label"},p.a.createElement(C.a,{checked:e.state.posts[s].ad,onChange:e.handleAd,id:"ad-".concat(s),index:s}),p.a.createElement("label",{className:"color-blue ad-edit",for:"ad-".concat(s)},"Ad or Sponsored Post")),e.state.posts[s].ad&&p.a.createElement("div",{className:"col-md-12 row mt-20 mb-20"},p.a.createElement("div",{className:" d-flex justify-content-between date-picker-wrapper flex-85 align-items-center inner-form-wrapper2 "},p.a.createElement(I.a,{selected:new Date(e.state.posts[s].budgetStart),placeholderText:"Post Date",onChange:function(t){return e.handleStartDpChange(t,s)},dateFormat:"MM/dd/yyyy",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"select-edit"}),p.a.createElement("span",null,"-"),p.a.createElement(I.a,{selected:new Date(e.state.posts[s].budgetEnd),placeholderText:"Post Date",onChange:function(t){return e.handleEndDpChange(t,s)},dateFormat:"MM/dd/yyyy",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",className:"select-edit"})),p.a.createElement("div",{className:"d-flex flex-85 align-items-center mt-20"},p.a.createElement("label",{className:"budget-text"},"Budget"),p.a.createElement("input",{type:"text",value:e.state.posts[s].budget,placeholder:"$0.00",name:"budget",className:"budget-input",onChange:e.handleBudget,index:s})))),p.a.createElement("div",null,p.a.createElement(T,{placeholder:"Hashtags",value:e.state.posts[s].postHashTag,name:"postHashTag",onChange:e.handleHashTags,index:s,className:"blue-input"})),p.a.createElement("div",null,e.state.posts[s].values.map(function(t,n){return p.a.createElement("div",{key:n},p.a.createElement("div",{className:"d-flex align-self-center ant-link"},p.a.createElement(g.a,{className:"blue-input",placeholder:"ADD LINKS",name:"link-".concat(n),value:t.value||"",onChange:function(t){return e.handleLinks(t)},margin:"normal",variant:"outlined",index:n}),n===e.state.posts[s].values.length-1?p.a.createElement("button",{type:"button",onClick:function(){return e.addClick(s)},className:"clear-btn"},p.a.createElement("img",{src:a(349),alt:"select icon"})):p.a.createElement("button",{type:"button",onClick:function(){return e.removeClick(n)},className:"clear-btn"},p.a.createElement("img",{src:a(754),alt:"x-icon"}))))}))),p.a.createElement(v.a,{className:"edit-btn-wrapper",gutter:10},p.a.createElement(E.a,null,p.a.createElement("button",{onClick:e.saveDraft,className:"save-draft-btn color-red"},"SAVE DRAFT")),p.a.createElement(E.a,null,p.a.createElement("button",{onClick:e.submitEdits,className:"add-date-btn"},"SAVE")),p.a.createElement(E.a,{span:24,className:"mt-30 text-center"},p.a.createElement("button",{type:"button",className:"clear-btn p-blue",onClick:e.deletePost},p.a.createElement("u",null,"Delete Post")))))))}),s=p.a.createElement("button",{type:"button",className:"clear-btn d-flex",onClick:function(){return e.clearMessages(e.props.match.params.postId,e.props.match.params.clientId)}},p.a.createElement("i",{className:"fas fa-trash"}),p.a.createElement("span",{className:"ml-10"},"CLEAR"));return p.a.createElement("div",{className:"add-post edit-post"},p.a.createElement("p",{className:"heading text-center add-post-heading p-blue"},"Client ",this.props.match.params.postId," Calendar",p.a.createElement("br",null)),p.a.createElement("div",{className:""},p.a.createElement("div",{className:"d-flex approval-wrapper"},p.a.createElement("div",{className:"container d-flex align-items-center"},p.a.createElement(m.a,{clientId:this.props.match.params.postId,getSelectedCategory:this.getSelectedCategoryParent,category:this.state.selectedCategory,currentCat:this.state.selectedCategoryName,color:this.state.color}),p.a.createElement(C.a,{name:"approved",value:this.state.approved,onChange:this.handleApproval,checked:this.state.approved,id:"approvePost"}),p.a.createElement("label",{className:"color-blue m-0",htmlFor:"approvePost"},"APPROVE POST"))),this.state.posts.length>0?t:p.a.createElement("div",{class:"text-center mt-20"},p.a.createElement(y.a,{size:"large"}))),p.a.createElement("div",{className:"fixed-bottom container position_relative col-md-4"},p.a.createElement("div",{hidden:this.state.showChat},p.a.createElement("div",{className:"d-flex flex-column align-items-end"},p.a.createElement("div",{className:"inner-chat-log bg-white position-relative"},p.a.createElement(h.a,{deletePost:this.deletePostParent,adminClient:this.props.match.params.postId,messages:this.state.messages}),p.a.createElement("form",{onSubmit:this.submitMessage,className:"d-flex mt-30 position-relative"},p.a.createElement("textarea",{onChange:this.setMessage,value:this.state.message,onKeyDown:this.captureKey}),p.a.createElement("button",{type:"button",onClick:this.toggleIcon.bind(this),className:"clear-btn position-absolute happy-btn"},p.a.createElement("i",{className:"fas fa-smile-beam"})),p.a.createElement(k.a,{placement:"topRight",content:s,trigger:"click",className:"position-absolute",visible:this.state.visible,onVisibleChange:this.handleVisibleChange},p.a.createElement(w.a,{className:"clear-btn clear-message-button position-absolute send-clear"},p.a.createElement("i",{className:"fas fa-ellipsis-v"}))))),p.a.createElement("span",{className:this.state.showIcons?"hidden":"not-hidden"},p.a.createElement(u.a,{onSelect:this.addEmoji})))),p.a.createElement("button",{onClick:this.toggleChat,type:"button",className:"clear-btn"},p.a.createElement("img",{src:a(351),alt:"chatbox icon"}))))}}]),t}(d.Component);t.default=Object(O.c)(F)}}]);
//# sourceMappingURL=5.7a947f95.chunk.js.map